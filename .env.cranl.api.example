# ============================================================
# Fahras API - Cranl.com PaaS Environment Variables
# ============================================================
# Copy this file and fill in your values on Cranl dashboard.
# Variables marked [REQUIRED] must be set for the app to work.
# Variables marked [AUTO] are typically provided by Cranl add-ons.
# ============================================================

# --- Laravel Core ---
APP_NAME="Fahras API"
APP_ENV=production
APP_DEBUG=false
APP_KEY=                        # [REQUIRED] Generate with: php artisan key:generate --show
APP_URL=                        # [REQUIRED] Your backend URL, e.g., https://fahras-api.cranl.com
APP_TIMEZONE=Asia/Riyadh

# --- Frontend URL (CORS) ---
FRONTEND_URL=                   # [REQUIRED] Your frontend URL, e.g., https://fahras.cranl.com

# --- Database (PostgreSQL) ---
# Cranl managed PostgreSQL add-on provides DATABASE_URL automatically.
# If DATABASE_URL is set, individual DB_* vars are ignored.
DATABASE_URL=                   # [AUTO] Provided by Cranl PostgreSQL add-on
DB_CONNECTION=pgsql
DB_HOST=                        # [AUTO] or set manually
DB_PORT=5432
DB_DATABASE=fahras
DB_USERNAME=                    # [AUTO] or set manually
DB_PASSWORD=                    # [AUTO] or set manually

# --- Redis ---
# Cranl managed Redis add-on provides REDIS_URL automatically.
REDIS_URL=                      # [AUTO] Provided by Cranl Redis add-on
REDIS_CLIENT=predis             # [REQUIRED] Must be 'predis' (phpredis may not be available)
REDIS_HOST=                     # [AUTO] or set manually
REDIS_PORT=6379
REDIS_PASSWORD=                 # [AUTO] or set manually
REDIS_DB=0

# --- Cache & Session ---
CACHE_STORE=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=sync           # Use 'sync' for simplicity. Change to 'redis' if running queue worker.

# --- Alibaba Cloud OSS (S3-compatible) ---
FILESYSTEM_DISK=s3              # [REQUIRED]
AWS_ACCESS_KEY_ID=              # [REQUIRED] Alibaba OSS Access Key ID
AWS_SECRET_ACCESS_KEY=          # [REQUIRED] Alibaba OSS Access Key Secret
AWS_DEFAULT_REGION=me-central-1 # Riyadh region
AWS_BUCKET=fahras               # Your OSS bucket name
AWS_ENDPOINT=https://oss-me-central-1.aliyuncs.com
AWS_USE_PATH_STYLE_ENDPOINT=false  # [REQUIRED] Must be false for Alibaba OSS (virtual-hosted style)
AWS_URL=https://fahras.oss-me-central-1.aliyuncs.com  # Public URL for the bucket

# --- Sanctum ---
SANCTUM_STATEFUL_DOMAINS=       # [REQUIRED] Comma-separated: your-frontend-domain.com,localhost:3000

# --- Logging ---
LOG_CHANNEL=stderr              # PaaS-friendly: logs to stdout/stderr for platform log aggregation
LOG_LEVEL=warning               # production: warning or error

# --- AI Features (Optional) ---
# AI_PROVIDER=gemini
# GEMINI_API_KEY=
